### Web安全

---

#### ！1、什么是SQL注入 ，如何避免。
> 定义
- SQL注入 就是通过把SQL命令插入到Web表单递交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的SQL命令
> 解决方法
- 避免数据变成代码被执行，时刻分清代码和数据的界限。具体到SQL注入来说，被执行的恶意代码是通过数据库的SQL解释引擎编译得到的，所以只要避免用户输入的数据被数据库系统编译就可以了
- 用户输入的数据进行转义从而来防止SQL注入
#### %2、什么是XSS攻击，如何避免
> 定义

  XSS又称CSS，全称Cross SiteScript，跨站脚本攻击，是Web程序中常见的漏洞，XSS属于被动式且用于客户端的攻击方式，所以容易被忽略其危害性。
  
  其原理是攻击者向有XSS漏洞的网站中输入(传入)恶意的HTML代码，当其它用户浏览该网站时，这段HTML代码会自动执行，从而达到攻击的目的。
  
  如，盗取用户Cookie、破坏页面结构、重定向到其它网站等
  
  xss攻击可以分成两种类型：
  - 非持久型攻击
  - 持久型攻击
  
  ##### 1. 非持久型xss攻击
  
  顾名思义，非持久型xss攻击是一次性的，仅对当次的页面访问产生影响。非持久型xss攻击要求用户访问一个被攻击者篡改后的链接，用户访问该链接时，被植入的攻击脚本被用户游览器执行，从而达到攻击目的。

  ##### 2.持久型xss攻击

  持久型xss攻击会把攻击者的数据存储在服务器端，攻击行为将伴随着攻击数据一直存在。
>解决方法

- 完善的过滤体系
  
  永远不相信用户的输入。需要对用户的输入进行处理，只允许输入合法的值，其它值一概过滤掉。

- Html encode

  假如某些情况下，我们不能对用户数据进行严格的过滤，那我们也需要对标签进行转换。
  
#### %3、什么是CSRF攻击，如何避免
> 定义

CSRF（Cross-site request forgery），中文名称：跨站请求伪造，也被称为：one click attack/session riding，缩写为：CSRF/XSRF。

CSRF是一种诱骗受害者提交恶意请求的攻击。它继承了受害者的身份和特权，代表受害者执行不需要的功能。对于大多数网站，浏览器请求会自动包含与该网站相关的任何凭据，例如用户的会话Cookie，IP地址，Windows域凭据等。因此，如果用户当前对站点进行身份验证，站点将无法区分受害者发送的伪造请求和受害者发送的合法请求

CSRF攻击的目标是导致服务器状态发生变化的功能，例如更改受害者的电子邮件地址或密码或购买某些内容。强制受害者检索数据不会使攻击者受益，因为攻击者没有收到响应，受害者会这样做。因此，CSRF攻击针对状态改变请求。

> 解决方法

　服务端的CSRF方式方法很多样，但总的思想都是一致的，就是在客户端页面<b>增加伪随机数</b>。

  验证 HTTP Referer 字段；
 
  在请求地址中添加 token 并验证；
 
  在 HTTP 头中自定义属性并验证
#### 参考资料
1. [xss攻击](http://www.cnblogs.com/bangerlee/archive/2013/04/06/3002142.html)

2. [CSRF 攻击的应对之道](https://www.ibm.com/developerworks/cn/web/1102_niugang_csrf/index.html)

3. [CSRF](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF))

4. [浅谈CSRF攻击方式](http://www.cnblogs.com/hyddd/archive/2009/04/09/1432744.html)
>Contributes: hueizhe
>
>Reviewers : Hollis, Kevin Lee
